from selenium import webdriver
from selenium.webdriver.chrome.options import Options
DRIVER_PATH = 'C:/Users/berat/webdriver/chromedriver' #BILGISAYARDA chromedriver'ın bulunduğu yer
options = Options()
options.headless = True
options.add_argument("--window-size=1920,1200")
driver = webdriver.Chrome(options=options, executable_path=DRIVER_PATH)

#### IFRAME
link = "https://infoyatirim.com/gunluk-bulten-23-07-2020/"
driver.get(link) # LINK
src = driver.find_element_by_css_selector("iframe").get_attribute("src")
driver.get(src)

#### TARIH
tarih = link[38:48]

#### SIRKET HABERLERI
sirket_haberleri = driver.find_elements_by_xpath("/html/body/table[2]/tbody/tr[3]/td/ul/li")
news_list1 = []
news_list1_codes = []
for news in sirket_haberleri:
    try:
        news_list1.append(news.find_element_by_xpath('./span').text)
    except:
        print('xd')
    finally:
        sub_news_list1 = news.find_elements_by_xpath('./ul/li')
        for snews in sub_news_list1:
            news_list1.append(snews.find_element_by_xpath('./span').text)
    news_list1_codes.append(news.find_element_by_xpath('./b/span').text)

news_list1
